<!-- <div class="staff-container">
  <h2 class="title">Staff List</h2>
  <button class="add-btn" (click)="openForm()">+ Add Staff</button>

  <div *ngIf="showForm">
    <div class="form-overlay" (click)="closeForm()"></div>
    <div class="form-popup">
      <h3>Add Staff</h3>
      <form (ngSubmit)="addStaff()" class="staff-form">
        <label>Name</label>
        <input type="text" [(ngModel)]="newStaff.name" name="name" required />

        <label>Date of Birth</label>
        <input type="date" [(ngModel)]="newStaff.dateOfBirth" name="dateOfBirth" required />

        <label>Contact Number</label>
        <input type="text" [(ngModel)]="newStaff.contactNo" name="contactNo" required />

        <label>Role</label>
        <input type="text" [(ngModel)]="newStaff.role" name="role" required />

        <div class="form-actions">
          <button type="submit" class="save-btn">Save</button>
          <button type="button" class="cancel-btn" (click)="closeForm()">Cancel</button>
        </div>
      </form>
    </div>
  </div> -->

<div class="staff-container">
  <h2 class="title">Staff List</h2>
  <button class="add-btn" (click)="openForm()">+ Add Staff</button>

  <div *ngIf="showForm">
    <div class="form-overlay" (click)="closeForm()"></div>
    <div class="form-popup">
      <h3>Add Staff</h3>

      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>

      <form (ngSubmit)="addStaff()" class="staff-form">
        <label>Name</label>
        <input type="text" [(ngModel)]="newStaff.name" name="name" required />

        <label>Date of Birth</label>
        <input type="date" [(ngModel)]="newStaff.dateOfBirth" name="dateOfBirth" required />

        <label>Contact Number</label>
        <input type="text" [(ngModel)]="newStaff.contactNo" name="contactNo" required />

        <label>Role</label>
        <input type="text" [(ngModel)]="newStaff.role" name="role" required />

        <div class="form-actions">
          <button type="submit" class="save-btn">Save</button>
          <button type="button" class="cancel-btn" (click)="closeForm()">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Staff ID</th>
          <th>Name</th>
          <th>DOB</th>
          <th>Contact</th>
          <th>Role</th>
          <th>Password</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let staff of staffList">
          <td>{{ staff.staffCode }}</td>
          <td>{{ staff.name }}</td>
          <td>{{ staff.dateOfBirth }}</td>
          <td>{{ staff.contactNo }}</td>
          <td>{{ staff.role }}</td>
          <td>{{ staff.password? '*********': '-' }}</td>
          <td>
            <span class="status" [class.approved]="staff.status === 'Activated'" [class.rejected]="staff.status === 'Deactivated'">{{ staff.status }}</span>
          </td>
          <td>
            <button class="approve-btn" (click)="approveStaff(staff)" [disabled]="staff.status === 'Activated'">Activate</button>
            <button class="reject-btn" (click)="rejectStaff(staff)" [disabled]="staff.status === 'Deactivated'">Deactivate</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
